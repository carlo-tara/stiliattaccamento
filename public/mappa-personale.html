<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Mappa personale interattiva: visualizza il tuo profilo di attaccamento su 5 dimensioni. Strumento giocoso per consapevolezza di sé.">
  <title>Mappa personale - Stili di Attaccamento</title>
  
  <!-- Schema.org Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Mappa personale - Stili di Attaccamento",
    "description": "Strumento interattivo per visualizzare il profilo di attaccamento su 5 dimensioni",
    "url": "https://stiliattaccamento.it/mappa-personale.html"
  }
  </script>
  
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/themes.css">
  
  <!-- Chart.js -->
    <!-- Scripts (ordine importante: prima template-loader, poi breadcrumb-generator) -->
  <script src="js/template-loader.js"></script>
  <script src="js/breadcrumb-generator.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@latest/dist/chart.umd.min.js"></script>
  
  <style>
    .dimension-slider {
      margin: var(--spacing-6) 0;
      padding: var(--spacing-4);
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-border);
    }
    
    .slider-container {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-3);
    }
    
    .slider-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-2);
    }
    
    .slider-label h4 {
      margin: 0;
      flex: 1;
    }
    
    .slider-value {
      font-weight: bold;
      font-size: var(--font-size-lg);
      color: var(--color-accent-secure);
      min-width: 3rem;
      text-align: right;
    }
    
    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: var(--radius-full);
      background: var(--color-bg-tertiary);
      outline: none;
      -webkit-appearance: none;
    }
    
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--color-accent-secure);
      cursor: pointer;
      box-shadow: var(--shadow-md);
    }
    
    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--color-accent-secure);
      cursor: pointer;
      border: none;
      box-shadow: var(--shadow-md);
    }
    
    .dimension-description {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      margin-top: var(--spacing-2);
      padding: var(--spacing-3);
      background-color: var(--color-surface-elevated);
      border-radius: var(--radius-md);
    }
    
    .dimension-description strong {
      color: var(--color-text-primary);
    }
    
    .radar-chart-container {
      margin: var(--spacing-8) 0;
      padding: var(--spacing-6);
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-border);
      position: relative;
      height: 500px;
    }
    
    #radar-chart {
      max-width: 100%;
      max-height: 100%;
    }
    
    @media (max-width: 600px) {
      .radar-chart-container {
        height: 400px;
      }
    }
    
    .profile-result {
      margin-top: var(--spacing-8);
      padding: var(--spacing-6);
      background: linear-gradient(135deg, rgba(168, 213, 186, 0.1) 0%, rgba(168, 213, 186, 0.05) 100%);
      border-radius: var(--radius-lg);
      border-left: 4px solid var(--color-accent-secure);
    }
    
    .average-score {
      font-size: var(--font-size-3xl);
      font-weight: bold;
      text-align: center;
      margin: var(--spacing-4) 0;
      color: var(--color-accent-secure);
    }
    
    .level-badge {
      display: inline-block;
      padding: var(--spacing-2) var(--spacing-4);
      border-radius: var(--radius-full);
      font-weight: 600;
      font-size: var(--font-size-sm);
      margin: var(--spacing-2);
    }
    
    .level-badge.basso {
      background-color: rgba(168, 213, 186, 0.3);
      color: var(--color-accent-secure);
    }
    
    .level-badge.medio {
      background-color: rgba(255, 211, 165, 0.3);
      color: var(--color-accent-disorganized);
    }
    
    .level-badge.alto {
      background-color: rgba(244, 165, 174, 0.3);
      color: var(--color-accent-anxious);
    }
    
    .disclaimer {
      margin-top: var(--spacing-8);
      padding: var(--spacing-4);
      background-color: var(--color-surface-elevated);
      border-left: 4px solid var(--color-warning);
      border-radius: var(--radius-md);
    }
    
    .disclaimer strong {
      display: block;
      margin-bottom: var(--spacing-2);
    }
    
    @media (max-width: 768px) {
      .slider-container {
        gap: var(--spacing-2);
      }
      
      .dimension-slider {
        padding: var(--spacing-3);
      }
    }
  </style>
</head>
<body>
    <!-- Placeholder per header -->
  <div id="header-placeholder"></div>
  
  <!-- Placeholder per topbar (breadcrumb) -->
  <div id="topbar-placeholder"></div>

  <main>
    <section class="section">
      <div class="container">
        
        <h1>La tua mappa personale</h1>
        <p class="text-center mb-8" style="font-size: var(--font-size-lg);">
          Visualizza il tuo profilo di attaccamento su 5 dimensioni. Non sei una categoria fissa. Sei un <strong>punto nello spazio multidimensionale</strong> dell'attaccamento.
        </p>

        <!-- Disclaimer -->
        <div class="disclaimer">
          <strong>⚠️ Disclaimer Importante</strong>
          <p>Questo è uno <strong>strumento giocoso</strong> per acquisire consapevolezza di sé. <strong>Non sostituisce</strong> il consulto di un professionista (psicologo, psicoterapeuta, counselor). Se stai vivendo difficoltà significative nelle relazioni o sofferenza emotiva, ti consigliamo di cercare supporto professionale.</p>
        </div>

        <!-- Form con 5 Slider -->
        <form id="mappa-form" class="card mt-8">
          <h2>Le 5 dimensioni del tuo attaccamento</h2>
          <figure class="wiki-image">
            <img src="images/mappa-personale-cinque-dimensioni.webp" 
                 alt="Spazio multidimensionale astratto che rappresenta le cinque dimensioni" 
                 loading="lazy"
                 class="wiki-image__img">
            <figcaption class="wiki-image__caption">Le cinque dimensioni del tuo attaccamento</figcaption>
          </figure>
          <p>Regola ogni slider per riflettere la tua posizione su ciascuna dimensione. I valori vengono calcolati automaticamente dal test se lo hai completato.</p>

          <!-- Dimensione 1: Ansia ↔ Evitamento -->
          <div class="dimension-slider">
            <div class="slider-label">
              <h4>1. Ansia ↔ Evitamento</h4>
              <span class="slider-value" id="dim1-value">5</span>
            </div>
            <div class="slider-container">
              <input type="range" id="dim1" name="dim1" min="0" max="10" value="5" step="0.5">
              <div class="dimension-description">
                <strong>SINISTRA (0-4):</strong> Ansia - Cerchi rassicurazione, temi l'abbandono<br>
                <strong>CENTRO (4-6):</strong> Secure - Equilibrio fra connessione e autonomia<br>
                <strong>DESTRA (6-10):</strong> Evitamento - Preferisci spazio, temi l'invasione
              </div>
            </div>
          </div>

          <!-- Dimensione 2: Finestra di Tolleranza -->
          <div class="dimension-slider">
            <div class="slider-label">
              <h4>2. Finestra di Tolleranza</h4>
              <span class="slider-value" id="dim2-value">5</span>
            </div>
            <div class="slider-container">
              <input type="range" id="dim2" name="dim2" min="0" max="10" value="5" step="0.5">
              <div class="dimension-description">
                <strong>SINISTRA (0-4):</strong> Sottoattivato - Intorpidito, disconnesso, congelato<br>
                <strong>CENTRO (4-6):</strong> Finestra ampia - Puoi stare con emozioni e sensazioni<br>
                <strong>DESTRA (6-10):</strong> Iper-attivato - Ansioso, in panico, ipervigilante
              </div>
            </div>
          </div>

          <!-- Dimensione 3: Coscienza dell'Attaccamento -->
          <div class="dimension-slider">
            <div class="slider-label">
              <h4>3. Coscienza dell'Attaccamento</h4>
              <span class="slider-value" id="dim3-value">5</span>
            </div>
            <div class="slider-container">
              <input type="range" id="dim3" name="dim3" min="0" max="10" value="5" step="0.5">
              <div class="dimension-description">
                <strong>SINISTRA (0-4):</strong> Inconsapevole - "Non so perché mi comporto così"<br>
                <strong>CENTRO (4-6):</strong> Consapevole - "Riconosco il mio pattern"<br>
                <strong>DESTRA (6-10):</strong> Iper-consapevole - "Analizo costantemente il mio pattern"
              </div>
            </div>
          </div>

          <!-- Dimensione 4: Capacità di Integrazione -->
          <div class="dimension-slider">
            <div class="slider-label">
              <h4>4. Capacità di Integrazione</h4>
              <span class="slider-value" id="dim4-value">5</span>
            </div>
            <div class="slider-container">
              <input type="range" id="dim4" name="dim4" min="0" max="10" value="5" step="0.5">
              <div class="dimension-description">
                <strong>SINISTRA (0-4):</strong> Frammentato - "Non capisco come è successo"<br>
                <strong>CENTRO (4-6):</strong> Integrato - "Capisco la mia storia e cosa significa"<br>
                <strong>DESTRA (6-10):</strong> Super-integrato - "Ho elaborato completamente il mio passato"
              </div>
            </div>
          </div>

          <!-- Dimensione 5: Resilienza Relazionale -->
          <div class="dimension-slider">
            <div class="slider-label">
              <h4>5. Resilienza relazionale</h4>
              <span class="slider-value" id="dim5-value">5</span>
            </div>
            <div class="slider-container">
              <input type="range" id="dim5" name="dim5" min="0" max="10" value="5" step="0.5">
              <div class="dimension-description">
                <strong>SINISTRA (0-4):</strong> Fragile - Una difficoltà può far crollare la relazione<br>
                <strong>CENTRO (4-6):</strong> Stabile - Difficoltà sono navigabili<br>
                <strong>DESTRA (6-10):</strong> Robusta - Difficoltà rafforzano la relazione
              </div>
            </div>
          </div>

          <!-- Media e Risultato -->
          <div class="card mt-8" style="text-align: center;">
            <h3>Media complessiva</h3>
            <div class="average-score" id="average-score">5.0</div>
            <p id="average-interpretation">Sei nel viaggio di consapevolezza</p>
            <div id="level-badges"></div>
          </div>
        </form>

        <!-- Grafico Radar -->
        <div class="radar-chart-container">
          <figure class="wiki-image">
            <img src="images/mappa-personale-grafico-radar.webp" 
                 alt="Composizione astratta tipo radar per la Mappa personale" 
                 loading="lazy"
                 class="wiki-image__img">
            <figcaption class="wiki-image__caption">Visualizzazione della tua Mappa personale</figcaption>
          </figure>
          <h2>Visualizzazione grafico radar</h2>
          <p class="text-center mb-6">I tuoi punteggi su tutte e 5 le dimensioni:</p>
          <canvas id="radar-chart" width="400" height="400"></canvas>
        </div>

        <!-- Profilo Identificato -->
        <div id="profile-result" class="profile-result" style="display: none;">
          <h2>Il tuo profilo identificato</h2>
          <div id="profile-content"></div>
        </div>

        <!-- Link a Test -->
        <div class="card mt-8">
          <h3>Non hai ancora fatto il Test?</h3>
          <p>Il test di auto-valutazione può aiutarti a calcolare automaticamente i punteggi iniziali per le 5 dimensioni.</p>
          <a href="test.html" class="btn btn-primary">Fai il Test di Auto-Valutazione</a>
        </div>

        <!-- Come Usare la Mappa -->
        <div class="card mt-8">
          <h3>Come usare questa mappa</h3>
          <div class="grid grid-2" style="margin-top: var(--spacing-4);">
            <div>
              <h4>Per capire te stesso</h4>
              <p>Ogni dimensione ti dice qualcosa su come ami, come il corpo risponde allo stress, quanto vedi il tuo pattern, quanto hai elaborato il trauma, e quanto è stabile la tua relazione.</p>
            </div>
            <div>
              <h4>Per tracciare il progresso</h4>
              <p>Ripeti questa mappa ogni 3 mesi. Idealmente, vedrai movimento verso il CENTRO e la DESTRA (verso Secure e Integrato). Anche piccoli movimenti sono progresso.</p>
            </div>
            <div>
              <h4>Per comunicare al partner</h4>
              <p>Mostra questa mappa al partner per comunicare visivamente dove sei su ogni dimensione. Questo facilita la comprensione e il supporto reciproco.</p>
            </div>
            <div>
              <h4>Per Pianificare il Trattamento</h4>
              <p>La mappa ti mostra dove concentrare il lavoro terapeutico. Se sei molto basso su una dimensione, quella è l'area che richiede più attenzione.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

    <!-- Placeholder per footer -->
  <div id="footer-placeholder"></div>

  <script src="js/constants.js"></script>
  <script src="js/logger.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/config-chartjs.js"></script>
  <script src="js/theme.js"></script>
  <script src="js/mobile-menu.js"></script>
  <script src="js/main.js"></script>
  <script src="js/mappa-personale.js"></script>
</body>
</html>

